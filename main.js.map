{"version":3,"sources":["./src/app/shared/stores/cart.store.ts","./src/app/shared/stores/app.dispatcher.ts","./src/environments/environment.ts","./src/app/shared/services/auth.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/shared/services/cart.service.ts","./src/app/shared/components/cart-menu/cart-menu.component.ts","./src/app/shared/components/cart-menu/cart-menu.component.html","./src/app/app.module.ts","./src/app/app-routing.module.ts","./src/app/material.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { CartProduct } from '../models/cart-product';\r\nimport { AppDispatcher } from './app.dispatcher';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n// Probably extend AppStore and not any observable or subject\r\nexport class CartStore {\r\n  private state: CartState = new CartState();\r\n  public $: BehaviorSubject<CartState>;\r\n\r\n  private actions: string[] = [\r\n    'ADD_ITEM_TO_CART',\r\n    'REMOVE_ITEM_FROM_CART'\r\n  ];\r\n  private sessionKey: string = '[CartStore]';\r\n\r\n  constructor(private appDispatcher: AppDispatcher) {\r\n    // How would we read from the session in a \"normal\" way to rehydrate this store and others?\r\n    this.state = {\r\n      ...this.state,\r\n      ...JSON.parse(window.sessionStorage.getItem(this.sessionKey))\r\n    };\r\n    this.$ = new BehaviorSubject<CartState>(this.state);\r\n    this.appDispatcher.register(this);\r\n  }\r\n\r\n  public reduce(action: string, payload: any) {\r\n    switch(action) {\r\n      case 'ADD_ITEM_TO_CART':\r\n        this.state.cartItems.push(payload);\r\n        break;\r\n      case 'REMOVE_ITEM_FROM_CART':\r\n        this.state.cartItems.splice(payload.index, 1);\r\n        break;\r\n      default: return;\r\n    }\r\n\r\n    window.sessionStorage.setItem(this.sessionKey, JSON.stringify(this.state));\r\n    this.$.next(this.state);\r\n  }\r\n}\r\n\r\nexport class CartState {\r\n  public cartItems: CartProduct[] = [];\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AppDispatcher {\r\n\r\n  private stores: {[key: string]: any[]} = {};\r\n\r\n  constructor() {}\r\n\r\n  // May need a parent Reducer type\r\n  public register(store: any) {\r\n    for(const action of store.actions) {\r\n      this.stores[action] = this.stores[action] || [];\r\n      this.stores[action].push(store);\r\n    }\r\n  }\r\n\r\n  // master list of actions which will call down to the reducers to do stuff\r\n  public dispatch(action: string, payload: any) {\r\n    for(const store of this.stores[action]) {\r\n      store.reduce(action, payload);\r\n    }\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  api: 'https://localhost:5001',\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // : Observable<TokenResponse>\r\n  public getToken(params: {[key: string]: string}): Observable<any> {\r\n    return this.http.post<string>(environment.api + '/auth/token', params);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from './shared/services/auth.service';\r\nimport { CartStore } from './shared/stores/cart.store';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'htx-sushibake';\r\n  public signInUrl: string = '';\r\n  public showCart: boolean = false;\r\n  public isSmallScreen: boolean = false;\r\n\r\n  // Responsive stuff\r\n  public sidenavDisableClose: boolean = false;\r\n  public sidenavMode: string = \"over\";\r\n  public sidenavShowToggle: boolean = false;\r\n  public sidenavOpened: boolean = false;\r\n\r\n  constructor(\r\n    private breakpointObserver: BreakpointObserver,\r\n    private router: Router,\r\n    private authService: AuthService,\r\n    public cartStore: CartStore) {}\r\n\r\n  ngOnInit() {\r\n    this.router.events.subscribe(() => {\r\n      this.showCart = window.location.pathname !== '/checkout';\r\n    });\r\n\r\n    this.breakpointObserver.observe(Breakpoints.XSmall)\r\n      .subscribe(result => {\r\n        this.isSmallScreen = result.matches;\r\n        this.sidenavDisableClose = !this.isSmallScreen\r\n        this.sidenavMode = this.isSmallScreen ? 'over' : 'side';\r\n        this.sidenavShowToggle = this.isSmallScreen;\r\n        this.sidenavOpened = !this.isSmallScreen\r\n      })\r\n\r\n    // TODO: Get Url and params from the API or from environments.ts\r\n    const baseUrl = 'https://htxsushibake.auth.us-east-2.amazoncognito.com/login';\r\n    const signInQueryParams = [\r\n      'response_type=code',\r\n      'client_id=3cdh577dpo72ll2iija6qj4olh',\r\n      // 'scope=aws.cognito.signin.user.admin email openid phone profile',\r\n      // 'nonce=' + healthState.health.nonce,\r\n      // 'state=' + healthState.health.nonce,\r\n      'redirect_uri=' + window.location.origin\r\n    ];\r\n    this.signInUrl = baseUrl + '?' + signInQueryParams.join('&');\r\n\r\n    if (window.location.search) {\r\n      const code = window.location.search.substr(1)\r\n        .split('&')\r\n        .reduce((aggregate, current) => {\r\n          let keyvalue = current.split('=');\r\n          aggregate[keyvalue[0]] = keyvalue[1];\r\n          return aggregate;\r\n        }, {})['code'];\r\n\r\n      // Exchange the code for a token, if it exists\r\n      if (code) {\r\n        const tokenPostParams = {\r\n          grantType: 'authorization_code',\r\n          clientId: '3cdh577dpo72ll2iija6qj4olh',\r\n          scope: 'aws.cognito.signin.user.admin email openid phone profile',\r\n          redirectUri: window.location.origin,\r\n          // refresh_token?\r\n          code: code\r\n          // code_verifier? my app does not use PKCE?\r\n        };\r\n        this.authService.getToken(tokenPostParams).subscribe(result => {\r\n          // Store the token\r\n          // TODO: then remove the code from the url either by refresh or replace history\r\n          window.sessionStorage.setItem('token', result.id_token);\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div id=\"content\" class=\"pure-g\">\r\n  <mat-toolbar color=\"primary\">\r\n    <div class=\"pure-u-2-3\">\r\n      <button mat-icon-button *ngIf=\"sidenavShowToggle\" (click)=\"sidenavMenu.toggle()\"><mat-icon>menu</mat-icon></button>\r\n      <a routerLink=\"\" style=\"line-height:40px; vertical-align:middle\">HTX SushiBake</a>\r\n    </div>\r\n    <div class=\"pure-u-1-3 text-right\" *ngIf=\"(cartStore.$ | async) as cartState\">\r\n      <button mat-icon-button *ngIf=\"showCart\"\r\n        [matBadge]=\"cartState.cartItems.length || ''\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadgePosition=\"before\"\r\n        aria-label=\"Cart\" (click)=\"cartSidenav.toggle()\">\r\n        <mat-icon>shopping_cart</mat-icon>\r\n      </button>\r\n      <button mat-icon-button [matMenuTriggerFor]=\"toolbarMenu\" aria-label=\"Menu\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </button>\r\n      <mat-menu #toolbarMenu=\"matMenu\">\r\n        <a mat-menu-item [href]=\"signInUrl\">Login</a>\r\n      </mat-menu>\r\n    </div>\r\n  </mat-toolbar>\r\n\r\n  <mat-sidenav-container class=\"pure-u-1-1\">\r\n    <!-- TODO: Conditionally force open or toggle with hamburger -->\r\n    <mat-sidenav #sidenavMenu [mode]=\"sidenavMode\" [opened]=\"sidenavOpened\" [disableClose]=\"sidenavDisableClose\" class=\"pure-u-1-2 pure-u-sm-1-8\">\r\n      <mat-nav-list>\r\n        <a mat-list-item routerLink=\"\" routerLinkActive=\"active\">Place an order</a>\r\n        <a mat-list-item routerLink=\"order\">View Order</a>\r\n        <hr>\r\n        <a mat-list-item routerLink=\"order\">Manage Orders</a>\r\n        <a mat-list-item routerLink=\"order\">Products</a>\r\n      </mat-nav-list>\r\n    </mat-sidenav>\r\n\r\n    <mat-sidenav-content class=\"mat-app-background pure-u-3-4\">\r\n      <router-outlet></router-outlet>\r\n    </mat-sidenav-content>\r\n    <mat-sidenav #cartSidenav mode=\"over\" position=\"end\" class=\"pure-u-1-6\">\r\n      <app-cart-menu (checkout)=\"cartSidenav.close()\"></app-cart-menu>\r\n    </mat-sidenav>\r\n  </mat-sidenav-container>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { environment } from '../../../environments/environment';\r\nimport { CartProduct } from '../models/cart-product';\r\nimport { AppDispatcher } from '../stores/app.dispatcher';\r\nimport { CartStore } from '../stores/cart.store';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CartService {\r\n  constructor(private http: HttpClient,\r\n    private snackBar: MatSnackBar,\r\n    private appDispatcher: AppDispatcher,\r\n    private cartStore: CartStore) {}\r\n\r\n  public addToCart(cartProduct: CartProduct) {\r\n    // TODO: Write cart changes to session either here or in store\r\n    this.appDispatcher.dispatch('ADD_ITEM_TO_CART', cartProduct);\r\n\r\n    this.snackBar.open('Added to cart!', '', {\r\n      duration: 3000\r\n    });\r\n  }\r\n\r\n  public removeFromCart(index: number) {\r\n    this.appDispatcher.dispatch('REMOVE_ITEM_FROM_CART', {index: index});\r\n\r\n    this.snackBar.open('Removed item from cart', '', {\r\n      duration: 3000\r\n    });\r\n  }\r\n}\r\n","import { Component, EventEmitter, OnInit, OnDestroy, Output } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { CartProduct } from '../../models/cart-product';\r\nimport { CartService } from '../../services/cart.service';\r\nimport { CartStore } from '../../stores/cart.store';\r\n\r\n@Component({\r\n  selector: 'app-cart-menu',\r\n  templateUrl: './cart-menu.component.html',\r\n  styleUrls: ['./cart-menu.component.css']\r\n})\r\nexport class CartMenuComponent implements OnInit, OnDestroy {\r\n\r\n  public cartItems: CartProduct[] = [];\r\n  public totalCartPrice: number = 0;\r\n  private sub: Subscription;\r\n  @Output()\r\n  private checkout: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private cartStore: CartStore) {}\r\n\r\n  ngOnInit() {\r\n    this.sub = this.cartStore.$\r\n      .subscribe(cartState => {\r\n        this.cartItems = cartState.cartItems;\r\n        this.totalCartPrice = this.cartItems.reduce((total, current) => total + current.totalPrice, 0);\r\n      })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sub.unsubscribe();\r\n  }\r\n\r\n  removeItemFromCart(index: number) {\r\n    this.cartService.removeFromCart(index);\r\n  }\r\n\r\n  onClickCheckout() {\r\n    // Emit to parent component to close the cart nav\r\n    this.checkout.emit();\r\n    return true;\r\n  }\r\n}\r\n","<div id=\"cart-menu\">\r\n  <h1 class=\"mat-h1\">Cart</h1>\r\n  <div *ngIf=\"cartItems.length === 0\" class=\"mat-body\">\r\n    No items in your cart\r\n  </div>\r\n  \r\n  <div *ngFor=\"let p of cartItems; index as index\" class=\"cart-menu-item\">\r\n    <div class=\"text-right\">\r\n      <span class=\"x-button\" (click)=\"removeItemFromCart(index)\">&times;</span>\r\n    </div>\r\n    <h3 class=\"mat-h3\">{{p.productName}}</h3>\r\n    <div class=\"mat-small\">Size: {{p.size.name}}</div>\r\n    <ul>\r\n      <li *ngFor=\"let ao of p.addOns\" class=\"mat-small\">{{ao.addOnName}}</li>\r\n    </ul>\r\n\r\n    <div class=\"mat-small text-right\">${{p.totalPrice.toFixed(2)}}</div>\r\n    <hr>\r\n  </div>\r\n\r\n  <div *ngIf=\"cartItems.length > 0\" class=\"mat-small\">\r\n    <div>Total</div>\r\n    <div class=\"text-right\">${{totalCartPrice.toFixed(2)}}</div>\r\n    <hr>\r\n  </div>\r\n\r\n  <div class=\"m-t\">\r\n    <a routerLink=\"checkout\" class=\"full-width\" mat-flat-button color=\"primary\" [disabled]=\"cartItems.length === 0\"\r\n      (click)=\"onClickCheckout()\">Checkout</a>\r\n  </div>\r\n</div>\r\n","import { HttpClientModule } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { MaterialModule } from './material.module';\r\nimport { components as sharedComponents } from './shared/components';\r\nimport { AuthService } from './shared/services/auth.service';\r\nimport { ProductsService } from './shared/services/products.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    sharedComponents\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    MaterialModule,\r\n    AppRoutingModule\r\n  ],\r\n  providers: [AuthService], // probably don't need this if provided in root\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    loadChildren: () => import('./public/public.module').then(m => m.PublicModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { MatNativeDateModule } from '@angular/material/core'\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\n@NgModule({\r\n  imports: [\r\n    MatNativeDateModule,\r\n    MatBadgeModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatDatepickerModule,\r\n    MatExpansionModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatListModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSnackBarModule,\r\n    MatStepperModule,\r\n    MatToolbarModule\r\n  ],\r\n  exports: [\r\n    MatNativeDateModule,\r\n    MatBadgeModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatDatepickerModule,\r\n    MatExpansionModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatListModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSnackBarModule,\r\n    MatStepperModule,\r\n    MatToolbarModule\r\n  ]\r\n})\r\nexport class MaterialModule { }\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}